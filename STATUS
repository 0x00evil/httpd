APACHE 2.2 STATUS:                                              -*-text-*-
Last modified at [$Date$]

The current version of this file can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS

Documentation status is maintained seperately and can be found at:

  * docs/STATUS in this source tree, or
  * http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/STATUS

Consult the following STATUS files for information on related projects:

  * http://svn.apache.org/repos/asf/apr/apr/trunk/STATUS
  * http://svn.apache.org/repos/asf/apr/apr-util/trunk/STATUS

Patches considered for backport are noted in their branches' STATUS:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/1.3.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.0.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS


Release history:
    [NOTE that x.{odd}.z versions are strictly Alpha/Beta releases,
          while x.{even}.z versions are Stable/GA releases.]

    2.2.4   : In development. Jim proposes release "real soon" and
              offers to be RM.
    2.2.3   : Released on July 28, 2006 as GA.
    2.2.2   : Released on May 1, 2006 as GA.
    2.2.1   : Tagged on April 1, 2006, not released.
    2.2.0   : Released on December 1, 2005 as GA.
    2.1.10  : Tagged on November 19, 2005, not released.
    2.1.9   : Released on November 5, 2005 as beta.
    2.1.8   : Released on October 1, 2005 as beta.
    2.1.7   : Released on September 12, 2005 as beta.
    2.1.6   : Released on June 27, 2005 as alpha.
    2.1.5   : Tagged on June 17, 2005.
    2.1.4   : not released.
    2.1.3   : Released on  February 22, 2005 as alpha.
    2.1.2   : Released on December 8, 2004 as alpha.
    2.1.1   : Released on November 19, 2004 as alpha.
    2.1.0   : not released.


Contributors looking for a mission:

    * Just do an egrep on "TODO" or "XXX" in the source.

    * Review the bug database at: http://issues.apache.org/bugzilla/

    * Review the "PatchAvailable" bugs in the bug database:

      https://issues.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&product=Apache+httpd-2&keywords=PatchAvailable

      After testing, you can append a comment saying "Reviewed and tested".

    * Open bugs in the bug database.


CURRENT RELEASE NOTES:

    * Forward binary compatibility is expected of Apache 2.2.x releases, such
      that no MMN major number changes will occur.  Such changes can only be
      made in the trunk.

    * All commits to branches/2.2.x must be reflected in SVN trunk,
      as well, if they apply.  Logical progression is commit to trunk,
      get feedback and votes on list or in STATUS, then merge into
      branches/2.2.x, as applicable.


RELEASE SHOWSTOPPERS:


PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
  [ start all new proposals below, under PATCHES PROPOSED. ]

   * mod_dbd: Key the storage of prepared statements on the hex string
     value of server_rec, rather than the server name, as the server name
     may change (eg when the server name is set) at any time, causing
     weird behaviour in modules dependent on mod_dbd.
     Trunk: http://svn.apache.org/viewvc?view=rev&revision=466641
     niq: This is actually cumulative with R432562, R432560, 424798
          which were not yet backported.  They fix a nasty bug,
          and minfrin's fix is better than mine.
     Cumulative patch: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/database/mod_dbd.c?r1=466641&r2=420983&pathrev=466641
     +1: minfrin, niq, wrowe
     jim asks: Are the +1's on the Cumulative patch?

PATCHES PROPOSED TO BACKPORT FROM TRUNK:

    * mpm_winnt: Fix return values from wait_for_many_objects.
      Trunk version of patch:
        http://svn.apache.org/viewvc?view=rev&revision=428029
      2.2.x version of patch:
        Trunk version works
      +1: mturk, wrowe

    * Bundled PCRE: backport r381783 from trunk
      Fix brokenness on certain platforms when building with -DDEBUG.
      http://svn.apache.org/viewvc?view=rev&revision=381783
      +1 sctemme, fielding, pquerna, jerenkrantz
      -1 niq: Why are we hacking a third-party package as bundled,
              rather than upstream?  This has potential for chaos
              for modules (and we have a history of PCRE trouble)
              as well as a maintenance nightmare!
      jerenkrantz: I don't believe that's a valid reason to block this.
                   We're bundling PCRE for the duration of the 2.2.x series,
                   but we can re-evaluate for future major/minor revs.
      wrowe: nak niq, ack je; this is a silly debate, fix, push fixes upstream
             and adopt a newer PCRE at trunk/.

    * PKCS#7: backport PCKS#7 patches from trunk.
      +1 ben
      jerenkrantz: What's the revision number to backport?
      wrowe asks: ditto jerenkrantz

    * mod_deflate: Rework inflate output and deflate output filter to fix
      several issues: Incorrect handling of flush buckets, potential memory
      leaks, excessive memory usage in inflate output filter for large
      compressed content
        PR: 39854
      Trunk version of patch:
        Changes on deflate output filter:
          http://svn.apache.org/viewvc?view=rev&revision=422731
          http://svn.apache.org/viewvc?view=rev&revision=422736
          http://svn.apache.org/viewvc?view=rev&revision=422739
          http://svn.apache.org/viewvc?view=rev&revision=423940
          http://svn.apache.org/viewvc?view=rev&revision=424759
          http://svn.apache.org/viewvc?view=rev&revision=424950
          http://svn.apache.org/viewvc?view=rev&revision=425109
          http://svn.apache.org/viewvc?view=rev&revision=426790
          http://svn.apache.org/viewvc?view=rev&revision=426791
          http://svn.apache.org/viewvc?view=rev&revision=426793
          http://svn.apache.org/viewvc?view=rev&revision=426795

        Changes on inflate output filter:
          http://svn.apache.org/viewvc?view=rev&revision=416165
          http://svn.apache.org/viewvc?view=rev&revision=426799
          http://svn.apache.org/viewvc?view=rev&revision=475403
          http://svn.apache.org/viewvc?view=rev&revision=475406
          http://svn.apache.org/viewvc?view=rev&revision=475915
          http://svn.apache.org/viewvc?view=rev&revision=475920
          http://svn.apache.org/viewvc?view=rev&revision=475922
          http://svn.apache.org/viewvc?view=rev&revision=476600

        Changlog entry:
          http://svn.apache.org/viewvc?view=rev&revision=437668

      2.2.x version of patch:
        Trunk versions work. For convenience of review I merged the patches
        for the deflate output filter and the inflate output filter:
          Changes on deflate output filter:
            Patch: http://people.apache.org/~rpluem/patches/mod_deflate_rework/deflate_output.diff
            Merged subversion comments: http://people.apache.org/~rpluem/patches/mod_deflate_rework/deflate_output.log
          Changes on inflate output filter:
            Patch: http://people.apache.org/~rpluem/patches/mod_deflate_rework/inflate_output.diff
            Merged subversion comments: http://people.apache.org/~rpluem/patches/mod_deflate_rework/inflate_output.log
        The patch for the inflate output filter requires the patch for the
        deflate output filter.
      +1: rpluem, niq
      wrowe notes: I can't vote on this, nor can most; if you mean to propose
      backporting trunk/ to branches/2.2 for mod_deflate, I'd back that.
      rpluem: I am slightly confused now. What do you propose exactly?
              Take the existing mod_deflate.c from trunk and move it over
              to branches/2.2? This would be exactly the same as applying my
              patches as mod_deflate.c of branches/2.2 will be the same as
              mod_deflate.c of the trunk (r483597) after applying the patches.

    * Allow htcacheclean and httxt2dbm to link apr/apr-util statically
      like the older support programs.
      Trunk version of patch:
        http://svn.apache.org/viewvc?view=rev&revision=441796
      2.2.x version of patch:
        http://mail-archives.apache.org/mod_mbox//httpd-dev/200609.mbox/%3c1404e5910609091218p84f4d2flc1000764b4966727@mail.gmail.com%3e
      +1: trawick, wrowe

    * mod_proxy: Support variable interpolation in reverse proxy configuration
      http://svn.apache.org/viewvc?view=rev&revision=421686  (code)
      http://svn.apache.org/viewvc?view=rev&revision=422178  (code)
      http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_proxy.xml?r1=420990&r2=421725 (docs)
      +1: niq, mturk
      -.9: wrowe notes; modifying the existing syntax seems inappropriate, new
           ProxyPassSubstitute or similarly named directives would seem to
           make more sense, permit direct Reverse'als when appropriate and
           restrict the Substitutions to be parsed only when required.

    * mod_mem_cache: Memory leak fix: Unconditionally free the buffer.
      Trunk: http://svn.apache.org/viewvc?view=rev&revision=450070
      +1: minfrin, jim, wrowe
        wrowe asks; should ptr mobj->m be nulled out for safety's sake?

   * mod_dumpio: Allow logging at other LogLevels via DumpIOLogLevel
     directive.
      Trunk version of patch:
        http://svn.apache.org/viewvc?view=rev&revision=463291
      2.2.x version of patch:
        http://people.apache.org/~jim/patches/dumpio-patch.txt
      +1: jim, wrowe
      wrowe asks: isn't it time to make LogLevel directive parsing
                  reusable in the ap_config api?

   * mod_authn_dbd: Export any additional columns queried in the SQL select
     into the environment with the name AUTHENTICATE_<COLUMN>. This brings
     mod_authn_dbd behaviour in line with mod_authnz_ldap.
     Trunk: http://svn.apache.org/viewvc?view=rev&revision=466865
     +1: minfrin
     niq: This wants a little tidying.  Use of 13 as a magic number (for a
          strlen of something defined elsewhere) is nasty.  More importantly
          you need to document how it affects the module's directives.
          I'll +1 it when that's done.
     wrowe: ditto's - good concept.

   * core: Allow AcceptMutex to accept pathname arguments ala SSLMutex,
     and, as a result, semi-depreciate Lockfile.
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=467326
       http://svn.apache.org/viewvc?view=rev&revision=468049
     2.2.x version of patch:
       Trunk version works (requires handling of CHANGES and ap_mmn.h
       conflict though)
     +1: jim
     +1/-.9: wrowe
     wrowe notes: Adding to ease migration to 2.4 - good.  Deprecating 
                  any directive in a .even released branch, bad.
     jim notes: it's more an enhancement to AcceptMutex than a
                depreciation of LockFile... no regressions are
                introduced.

   * rotatelogs: Produce useful error messages for open() failures.
     PR 39487
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=478135
     2.2.x version of patch:
       Trunk version works.
     +1: trawick, wrowe
     wrowe notes: 26 bytes is absurdly posix-unix and english specific,
                  don't you think?  grow the error text pad to a sane
                  width before backporting, please.

   * mod_dbd: Stash DBD connections in request_config of initial request
     only, or else sub-requests and internal redirections may cause
     entire DBD pool to be stashed in a single HTTP request.
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=481509
     2.2.x version of patch:
       Trunk version works
     +1: chrisd, niq
     rpluem says: Please add r483630
                  (http://svn.apache.org/viewvc?view=rev&rev=483630) to this
                  proposal as it fixes a compiler warning. Once this is added
                  to the proposal I am +1.

   * mod_proxy_balancer: Have the find_best_worker() function
    increment the elected counter, rather than requiring each
    ind lb method to do it, isolating what each lb method
    needs to do.
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=484783
     2.2.x version of patch:
       Trunk version works.
     +1: jim, rpluem

   * mod_proxy_balancer: Remove unnecessary lock/unlock for
     the post_request hook. We are actually doing nothing here.
     But keep the code (but macroed out) for future usage.
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=484789
       http://svn.apache.org/viewvc?view=rev&revision=484794
     2.2.x version of patch:
       Trunk version works.
     +1: jim
     +0: rpluem: Shouldn't we remove this code on 2.2.x? Keeping seems to be ok
         for me on trunk, but on a stable branch?
         jim says: the reason why we keep it is in case we
         ever start using it. So we keep the framework in
         that case. Make trunk backports easier.

   * mod_proxy: Log unlock errors (as we do with locking errors).
     Add additional clarification on where the error occurred.
     Trunk version of patch:
       http://svn.apache.org/viewvc?view=rev&revision=484792
       http://svn.apache.org/viewvc?view=rev&revision=484787
       http://svn.apache.org/viewvc?view=rev&revision=484978
     2.2.x version of patch:
       For r484787, see: http://people.apache.org/~jim/patches/lock.txt
       otherwise, trunk version works.
     +1: jim

