APACHE 2.4 STATUS:                        -*- mode: text; coding: utf-8 -*-
Last modified at [$Date$]

The current version of this file can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/STATUS

Documentation status is maintained separately and can be found at:

  * docs/STATUS in this source tree, or
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/docs/STATUS

The current development branch of this software can be found at:

  * http://svn.apache.org/repos/asf/httpd/httpd/trunk

Consult the following STATUS files for information on related projects:

  * http://svn.apache.org/repos/asf/apr/apr/trunk/STATUS
  * http://svn.apache.org/repos/asf/apr/apr/branches/1.4.x/STATUS
  * http://svn.apache.org/repos/asf/apr/apr-util/branches/1.4.x/STATUS

Patches considered for backport are noted in their branches' STATUS:

  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.0.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.2.x/STATUS
  * http://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.x/STATUS



Release history:
    [NOTE that x.{odd}.z versions are strictly Alpha/Beta releases,
          while x.{even}.z versions are Stable/GA releases.]

    2.4.10  : Tagged on July 15, 2014.
    2.4.9   : Tagged on March 13, 2014. Released on March 17, 2014
    2.4.8   : Tagged on March 11, 2014. Not released.
    2.4.7   : Tagged on November 19, 2013. Released on Nov 25, 2013
    2.4.6   : Tagged on July 15, 2013. Released July, 22, 2013
    2.4.5   : Tagged on July 11, 2013, not released.
    2.4.4   : Tagged on February 18, 2013. Released Feb 25, 2013
    2.4.3   : Tagged on August 17, 2012. Released Aug 18, 2012
    2.4.2   : Tagged on April 5, 2012. Released Apr 17, 2012.
    2.4.1   : Tagged on February 13, 2012. Released Feb 21, 2012.
    2.4.0   : Tagged on January 16, 2012, not released.
    2.3.16  : Tagged on December 15, 2011.
    2.3.15  : Tagged on November 8, 2011. Released Nov. 15, 2011.
    2.3.14  : Tagged on August 1, 2011. Released Aug. 9, 2011.
    2.3.13  : Tagged on June 28, 2011, not released.
    2.3.12  : Tagged on May 11, 2011. Released May 23, 2011.
    2.3.11  : Released as Beta on March 7, 2011.
    2.3.10  : Tagged on December 13, 2010. Released Dec 21, 2010.
    2.3.9   : Tagged on November 23, 2010, not released.
    2.3.8   : Tagged on August 24, 2010.
    2.3.7   : Tagged on August 19, 2010, not released.
    2.3.6   : Released on June 21, 2010.
    2.3.5   : Released on January 26, 2010.
    2.3.4   : Released on December 8, 2009.
    2.3.3   : Tagged on November 11, 2009, not released.
    2.3.2   : Tagged on March 23, 2009, not released.
    2.3.1   : Tagged on January 2, 2009, not released.
    2.3.0   : Tagged on December 6, 2008, not released.

Contributors looking for a mission:

  * Just do an egrep on "TODO" or "XXX" in the source.

  * Review the bug database at: http://issues.apache.org/bugzilla/

  * Review the "PatchAvailable" bugs in the bug database:

    https://issues.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&product=Apache+httpd-2&keywords=PatchAvailable

    After testing, you can append a comment saying "Reviewed and tested".

  * Open bugs in the bug database.

  * See also the STATUS file in the docs/ directory, which lists documentation-specific TODO items.


CURRENT RELEASE NOTES:

  * Forward binary compatibility is expected of Apache 2.4.x releases, such
    that no MMN major number changes will occur after 2.4.1.  Such changes can
    only be made in the trunk.

  * All commits to branches/2.4.x must be reflected in SVN trunk,
    as well, if they apply.  Logical progression is commit to trunk
    then merge into branches/2.4.x, as applicable.

  * Current exceptions for RTC for this branch:
    . mod_lua
    . documentation
    . non-Unix build
    . non-Unix, single-platform code

RELEASE SHOWSTOPPERS:



PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
  [ start all new proposals below, under PATCHES PROPOSED. ]


PATCHES PROPOSED TO BACKPORT FROM TRUNK:
  [ New proposals should be added at the end of the list ]

  *) SECURITY: CVE-2013-5704 (cve.mitre.org)
     core: HTTP trailers could be used to replace HTTP headers
     late during request processing, potentially undoing or
     otherwise confusing modules that examined or modified
     request headers earlier.  Adds "MergeTrailers" directive to restore
     legacy behavior.  [Edward Lu, Yann Ylavic, Joe Orton, Eric Covener]

     trunk patch: http://svn.apache.org/r1610814
     2.4.x patch: http://people.apache.org/~covener/patches/httpd-2.4.x-trailers.diff
     +1: covener, wrowe

   * mod_proxy_http: Avoid (unlikely) access to freed memory.
     trunk patch: http://svn.apache.org/r1599486
     2.4.x patch: trunk works
     +1: ylavic, jorton
     covener: I did not look in depth, but is the preceding log message also bad?
     ylavic: No, this concerns the next for (;; e = APR_BUCKET_NEXT(e)) iteration.
             We could also s/apr_bucket_delete/APR_BUCKET_REMOVE/ instead, but
             stripping some (unhandled) buckets from the source brigade does
             not look correct to me either (brigade *to is to be consumed, but
             *from is still living, the caller may want to reuse it, eg:
             https://issues.apache.org/bugzilla/attachment.cgi?id=31686).
             Should we?

   * mod_proxy: Preserve original request headers even if they differ
                from the ones to be forwarded to the backend. PR 45387.
     trunk patch: http://svn.apache.org/r1588527
     2.4.x patch: trunk works (modulo CHANGES)
     +1: ylavic

   * mod_proxy: Don't limit the size of the connectable Unix Domain Socket paths.
                [Graham Dumpleton, Christophe Jaillet, Yann Ylavic]
     trunk patch: http://svn.apache.org/r1598946
                  http://svn.apache.org/r1602989
     2.4.x patch: http://people.apache.org/~ylavic/httpd-2.4.x-ap_proxy_connect_uds.patch
                  (modulo CHANGES/MMN)
     +1: ylavic

   * mod_ssl, event: Ensure that the SSL close notify alert is flushed to the client.
                     PR54998.
     trunk patch: http://svn.apache.org/r1601184
                  http://svn.apache.org/r1601274
                  http://svn.apache.org/r1601185
     2.4.x patch: http://people.apache.org/~ylavic/httpd-2.4.x-SSL-shutdown.patch
                  (modulo CHANGES/MMN)
     +1: ylavic

   * mod_proxy: Shutdown (eg. SSL close notify) the backend connection before closing.
     trunk patch: http://svn.apache.org/r1601291
                  http://svn.apache.org/r1601630
     2.4.x patch: http://people.apache.org/~ylavic/httpd-2.4.x-proxy-SSL-shutdown.patch
                  (modulo CHANGES)
     note: depends on ap_shutdown_conn() from r1601185 above.
     +1: ylavic

   * http_protocol: fix logic in ap_method_list_(add|remove) in order:
       - to correctly reset bits
       - not to modify the 'method_mask' bitfield unnecessarily
     trunk patch: http://svn.apache.org/r1610813
     2.4.x patch: trunk patch works (modulo CHANGES)
     +1: jailletc36

   * mpm_winnt service.c: Normalize all error and status messages, clean up
     source formatting, and accept utf-8 service names/descriptions for i18n.
     trunk patches: http://svn.apache.org/r1611165
                    http://svn.apache.org/r1611169
                    http://svn.apache.org/r1611244
     2.4.x patches: trunk works
     +1: wrowe

   * doc: improve doxygen output for util_ebcdic.h and util_charset.h.
     I propose it for vote because of the #if defined(DOXYGEN)
     trunk patch: http://svn.apache.org/r1611858
                  http://svn.apache.org/r1611908
                  http://svn.apache.org/r1611916
     2.4.x patch: trunk patch works
     +1: jailletc36

   * Easy patches - synch with trunk
        - mod_watchdog: Rename module name in doxygen + partly revert r832442 which
                        skipped doxygen doc generation for 'mod_watchdog.h'
        - mod_proxy: s/apr_pstrndup/apr_pstrmemdup/ to save a few cycles
        - mod_proxy_wstunnel: Use ap_remove_input_filter_byhandle instead of
                              duplicating the code.
        - Remove some 'register' in variable declaration.
        - core: Remove some 'register' in variable declaration.
                Save a few cycles by calling 'apr_isalnum' instead of
                'apr_isalpha' and 'apr_isdigit'.
        - Do not use deprecated define. s/MODULE_MAGIC_NUMBER/MODULE_MAGIC_NUMBER_MAJOR/
     trunk patch:
        http://svn.apache.org/r1597642
        http://svn.apache.org/r1608999
        http://svn.apache.org/r1605207
        http://svn.apache.org/r1610366
        http://svn.apache.org/r1610353
        http://svn.apache.org/r1611871
     2.4.x patch: http://people.apache.org/~jailletc36/backport9.patch
     +1: jailletc36

   * Add some missing APLOGNO.
     Refactor some lines to keep APLOGNO on the same line as ap_log_error, when applicable.
     Split some lines longer than 80.
     Improve alignment.
     trunk patch:
        http://svn.apache.org/r1611978
        http://svn.apache.org/r1612068
     2.4.x patch: trunk patch works
     +1: jailletc36

   * mod_ldap: 2.4.10 regression: Some authorization searches won't use AuthLDAPBindDN
     which can lead to LDAP authz failurs if AuthLDAPBindDN had extra access. 
     trunk patch: http://svn.apache.org/r1613682
     2.4.x patch: trunk works + CHANGES referencing 2.4.10 regression
     +1: covener

   * Turn some APR_BUCKET_REMOVE(e)+apr_bucket_destroy(e) into the equivalent
     apr_bucket_delete(e) to reduce code verbosity
     trunk patch: http://svn.apache.org/r1615026
     2.4.x patch: trunk patch works
     +1: jailletc36

   * mod_proxy_http: Proxy responses with error status and "ProxyErrorOverride On"
     hang until proxy timeout.  PR53420
     Regression from 2.2. It was introduced by r912063 in order to fix PR41646.
     trunk patch: http://svn.apache.org/r1615289
     2.4.x patch: trunk works (modulo CHANGES)
     +1: rjung

   * mod_ratelimit: Drop severity of AH01455 and AH01457 (ap_pass_brigade
     failed) messages from ERROR to TRACE1.  Other filters do not bother
     re-reporting failures from lower level filters.  PR56832.
     trunk patch: http://svn.apache.org/r1617018
     2.4.x patch: trunk works
     +1 covener

   * mod_proxy_fcgi: Fix faulty logging of large amounts of stderr from the
     application.  PR 56858.
     trunk patch: http://svn.apache.org/r1618401
     2.4.x patch: trunk works modulo CHANGES
     +1: trawick

   * core: Avoid useless warning message when parsing a section guarded by
     <IfDefine foo> if $(foo) is used within the section.  PR56858
     trunk patch: http://svn.apache.org/r1618541
     2.4.x patch: trunk patch works (modulo CHANGES)
     +1: jailletc36

   * authz_core: Let providers defined with AuthzProviderAlias be useable in 
     virtual hosts. PR56870
     trunk patch: http://svn.apache.org/r1618851
     2.4.x patch: trunk works + CHANGES
     +1 covener

OTHER PROPOSALS

   * A list of further possible backports can be found at: 
     http://people.apache.org/~rjung/patches/possible-backports-httpd-trunk-2_4.txt
     If you want to propose one of those, please add them above.


PATCHES/ISSUES THAT ARE BEING WORKED


PATCHES/ISSUES THAT ARE STALLED

  * core: Stop the HTTP_IN filter from attempting to write error buckets
    to the output filters
    trunk patch: https://svn.apache.org/viewvc?view=revision&revision=1482522
                 https://svn.apache.org/viewvc?view=revision&revision=1482918
    2.4.x patch: /* working on it */
    +1:  jim

  * mod_proxy: Ensure network errors detected by the proxy are returned as
    504 Gateway Timout as opposed to 502 Bad Gateway
    trunk patch: https://svn.apache.org/viewvc?view=revision&revision=1480058
    2.4.x patch: trunk patch works modulo CHANGES
    +1:
    -1: rpluem: This change is still disputed. See
        http://mail-archives.apache.org/mod_mbox/httpd-dev/201305.mbox/%3C1B16B9E3-87BA-4EEF-939C-7C7313B54714%40gbiv.com%3E

  * cross-compile: allow to provide CC_FOR_BUILD so that gen_test_char will be
    compiled by the build compiler instead of the host compiler.
    Also set CC_FOR_BUILD to 'cc' when cross-compilation is detected.
    Trunk patches: http://svn.apache.org/viewvc?view=revision&revision=1327907
                   http://svn.apache.org/viewvc?view=revision&revision=1328390
                   http://svn.apache.org/viewvc?view=revision&revision=1328714
    2.4 patch: http://people.apache.org/~fuankg/diffs/httpd-2.4.x-cross_compile.diff
    fuankg: on hold until we agree for a better and more simple solution ...

   * mod_ssl: Add support for Next Protocol Negotiation.
     Trunk patch:
       http://svn.apache.org/viewvc?view=revision&revision=1332643
     2.4.x patch:
       Trunk patch works.
     +1: ben
     sf says: Needs r1345599, too.
              And wrowe's comment about the 2.2 patch is also valid for 2.4:
              http://svn.apache.org/viewvc?view=revision&revision=1354823

   * Makefile.win: Added copying of .vbs / .wsf CGIs to Windows install target.
                   Moved fixing of shebang to separate target so that it is
                   no longer executed by default and all CGIs remain inactive.
     trunk patch: http://svn.apache.org/viewvc?view=revision&revision=1387984
                  http://svn.apache.org/viewvc?view=revision&revision=1421203
                  http://svn.apache.org/viewvc?view=revision&revision=1421591
     2.4.x patch: http://people.apache.org/~fuankg/diffs/httpd-2.4.x-Makefile.win.diff
     +1 fuankg, gsmith
     -.8: trawick
          This commit is essentially deciding that an httpd install on
          Windows now has printenv/testcgi written in 2 more languages.
          To the extent that the usefulness is that it shows how to make scripts
          of these types executable by httpd, I believe that the documentation
          is the proper place to solve that.  To the extent that the usefullness
          is to show how to implement a CGI in these particular languages, I believe
          that the httpd distribution and documentation in general is not the
          place for that.  Historically these types of scripts have caused problems
          for downstream vendorsas well as newbies (and sometimes the intersection
          of those two groups) who don't understand that these are information leaks
          once they are enabled, and the subtlety of the way they are disabled ("Apache
          messed up the first line; let me fix that") contributes to that.
     fuankg notes: I've just added a big warning to all CGI scripts which should now
          make absolutely clear that these CGIs are for testing purpose only - so those
          who enable those scripts with inserting the right shebang should be 100% aware
          of any risks (this should cover your last point).
     jim: trawick, does the above address your concerns?
     trawick: to some extent (somebody reading the script gets an idea)
          Why isn't the configuration requirement documented instead
          of described indirectly in a sample?
          Why are these new samples added to the install without three
          votes?  (I didn't veto it; put your name next to the two
          existing ones and I'll be satisified that enough people
          considered this addition as an appropriate solution for a
          real httpd usability problem.)
     wrowe: I'd agree with trawick, and suggest that these scripts can begin
            their life somewhere in the manual/ tree.  This really seems like
            the place where /usr/share/httpd/examples/ would be useful, but
            there isn't an ordinary directory for that.  Since we want none
            of the scripts to function 'out of the box', what about a new
            cgi-examples/ dir alongside cgi-bin/? Otherwise manual/cgi/examples
            might work?

