<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Apache module mod_dld</TITLE>
</HEAD>

<!-- Background white, links blue (unvisited), navy (visited), red (active) -->
<BODY
 BGCOLOR="#FFFFFF"
 TEXT="#000000"
 LINK="#0000FF"
 VLINK="#000080"
 ALINK="#FF0000"
>
<!--#include virtual="header.html" -->
<H1 ALIGN="CENTER">Module mod_dld</H1>

This module is contained in the <CODE>mod_dld.c</CODE> file, and is not
compiled in by default. It provides for loading of executable code
and modules into the server at start-up time, using the GNU dld library.

<h2>Summary</h2>

The optional dld module is a proof-of-concept piece of code which
loads other modules into the server as it is configuring itself (the
first time only; for now, rereading the config files cannot affect the
state of loaded modules), using the GNU dynamic linking library, DLD.
It isn't compiled into the server by default, since not everyone has
DLD, but it works when I try it.  (Famous last words.)  <P>

Note that for some reason, <CODE>LoadFile /lib/libc.a</CODE> seems to be
required for just about everything.<P>

Note: that DLD needs to read the symbol table out of the server binary
when starting up; these commands will fail if the server can't find
its own binary when it starts up, or if that binary is stripped.<P>


<h2>Directives</h2>
<UL>
<LI><A HREF="#loadfile">LoadFile</A>
<LI><A HREF="#loadmodule">LoadModule</A>
</UL>
<HR>


<h2><A name="loadfile">LoadFile</A></h2>
<!--%plaintext &lt;?INDEX {\tt LoadFile} directive&gt; -->
<STRONG>Syntax:</STRONG> LoadFile <EM>filename filename ...</EM><BR>
<Strong>Context:</STRONG> server config<BR>
<STRONG>Status:</STRONG> Experimental<BR>
<STRONG>Module:</STRONG> mod_dld<P>

The LoadFile directive links in the named object files or libraries when
the server is started; this is used to load additional code which
may be required for some module to work. <EM>Filename</EM> is relative
to <A HREF="core.html#serverroot">ServerRoot</A>.<P><HR>

<h2><A name="loadmodule">LoadModule</A></h2>
<!--%plaintext &lt;?INDEX {\tt LoadModule} directive&gt; -->
<STRONG>Syntax:</STRONG> LoadModule <EM>module filename</EM><BR>
<Strong>Context:</STRONG> server config<BR>
<STRONG>Status:</STRONG> Experimental<BR>
<STRONG>Module:</STRONG> mod_dld<P>

The LoadModule directive links in the object file or library <EM>filename</EM>
and adds the module structure named <EM>module</EM> to the list of active
modules. <EM>Module</EM> is the name of the external variable of type
<CODE>module</CODE> in the file. Example:
<BLOCKQUOTE><CODE>
LoadModule ai_backcompat_module modules/mod_ai_backcompat.o<BR>
LoadFile /lib/libc.a
</CODE></BLOCKQUOTE>
loads the module in the modules subdirectory of the ServerRoot.<P>


<!--#include virtual="footer.html" -->
</BODY>
</HTML>

